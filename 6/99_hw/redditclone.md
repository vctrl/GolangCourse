Клон Реддита

Продолжаем работать с клоном реддита.

Поскольку лекция посвящена работе с базами - в этот раз мы будем заниматься базами:

1) Хранить сессии в mysql. В JWT сессии использовать больше нельзя в режиме stateless. Теперь они будут stateful ( храниться в базе ), этио значит что по прихорду сессии в идете в базу и проверяете, есть-ли там запись с тами ИД-шником.
2) Хранить пользователей в mysql.
3) Хранить посты с комментами в MondoDB ( использовать github.com/mongodb/mongo-go-driver )
4) Если вам можется поработать с другой базой - например postgres вместо mysql - можно, только согласуйте предварительно

Надо сделать тестовое покрытие с использованием моков ( моков репозтория, моков базы ) > 60%.
В идеале - для пользователей и постов сделать полное ( 100% ) покрытие структуры ( как http-хендлера, так и репозитория ).

Надо скопировать в соответствующую папку (6/99_hw/redditclone) ваш код из предыдущего задания (5/99_hw/redditclone) и писать в новой папке (6/99_hw/redditclone). Чтобы не смешивалось.

Ссылки в помощь:
* https://medium.com/better-programming/unit-testing-code-using-the-mongo-go-driver-in-golang-7166d1aa72c0

Это задание позволить поработать с основными вещами, которые используются при разработке приложений:
1) Проектировать простые таблицы в mysql
2) Писать основные запросы к mysql
3) Тестировать паттерн репозрторий с mysql и mongodb
4) Тестировать http хендлеры которые приближены к реальности, а не фейковые, как в 4-м задании

Опционально:
1) Хранить сессии в тарантуле
2) Хранить сессии в редисе ( https://github.com/go-redis/redis + https://github.com/elliotchance/redismock)
3) Хранить посты с комментами в mysql
4) Использовать структуру проекта из https://github.com/golang-standards/project-layout

Реализовать это можно через отдельные структуры, удовлетворяющие заданному интерфейсу. Рядом с другим репозиторием, например будет session_jwt.go + session_mysql.go + session_redis.go